'use strict'
Object.defineProperty(exports, '__esModule', { value: !0 })
var __chunk_1 = require('../../cjs/tippy.chunk.min.js')
function delegate(e, t) {
  var n = [],
    r = [],
    o = t.target
  delete t.target
  var i = __chunk_1.tippy(e, t)
  function c(e) {
    if (e.target) {
      var n = e.target.closest(o)
      if (n) {
        var i = __chunk_1.tippy(
          n,
          __chunk_1._extends({}, t, { showOnInit: !0 }),
        )
        i && (r = r.concat(i))
      }
    }
  }
  function s(e, t, r) {
    var o = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
    e.addEventListener(t, r, o),
      n.push({ element: e, eventType: t, listener: r, options: o })
  }
  function a(e) {
    var t = e.destroy
    ;(e.destroy = function() {
      ;(!(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]) &&
        r.forEach(function(e) {
          e.destroy()
        }),
        (r = []),
        (function(e) {
          e.forEach(function(e) {
            var t = e.element,
              n = e.eventType,
              r = e.listener,
              o = e.options
            t.removeEventListener(n, r, o)
          }),
            (e = [])
        })(n),
        t()
    }),
      (function(e) {
        var t = e.reference
        e.props.trigger
          .trim()
          .split(' ')
          .forEach(function(e) {
            switch (e) {
              case 'mouseenter':
                s(t, 'mouseover', c)
                break
              case 'focus':
                s(t, 'focusin', c)
                break
              case 'click':
                s(t, 'click', c)
            }
          })
      })(e),
      e.setProps({ trigger: 'manual' })
  }
  i && (Array.isArray(i) ? i.forEach(a) : a(i))
  return i
}
function createSingleton(e) {
  var t,
    n,
    r =
      arguments.length > 1 && void 0 !== arguments[1]
        ? arguments[1]
        : { delay: 0 },
    o = __chunk_1.tippy(document.createElement('div')),
    i = r.delay
  function c() {
    clearTimeout(t), clearTimeout(n)
  }
  e.forEach(function(e) {
    var r = e.props,
      s = r.onShow,
      a = r.onTrigger,
      u = r.onUntrigger,
      l = e.clearDelayTimeouts
    ;(e.clearDelayTimeouts = function() {
      l(), c()
    }),
      e.setProps({
        delay: 0,
        onShow: function(e) {
          return s(e), !1
        },
        onTrigger: function(e, n) {
          a(e, n)
          var r = __chunk_1._extends({}, e.props)
          delete r.onShow,
            delete r.delay,
            o.setProps(r),
            (o.reference.getBoundingClientRect = function() {
              return e.reference.getBoundingClientRect()
            }),
            c(),
            !o.state.isVisible && o.state.isMounted
              ? o.show(void 0, !1)
              : (t = setTimeout(function() {
                  o.show()
                }, __chunk_1.getValue(
                  i,
                  0,
                  __chunk_1.tippy.defaultProps.delay,
                )))
        },
        onUntrigger: function(e, t) {
          u(e, t),
            c(),
            (n = setTimeout(function() {
              o.hide()
            }, __chunk_1.getValue(i, 1, __chunk_1.tippy.defaultProps.delay)))
        },
      })
    var d = e.setProps
    e.setProps = function(e) {
      delete e.delay,
        d(e),
        (s = e.onShow || s),
        (a = e.onTrigger || a),
        (u = e.onUntrigger || u)
    }
  })
  var s = o.setProps
  o.setProps = function(e) {
    ;(i = void 0 !== e.delay ? e.delay : i), s(e)
  }
  var a = o.destroy
  return (
    (o.destroy = function() {
      ;(!(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]) &&
        e.forEach(function(e) {
          e.destroy()
        }),
        a()
    }),
    o
  )
}
require('popper.js'),
  (exports.createSingleton = createSingleton),
  (exports.delegate = delegate)
//# sourceMappingURL=tippy-addons.min.js.map
